<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 动态标题 -->
    <title th:text="${item.title} + ' - 党史大百科'">词条详情</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/main.css" th:href="@{/css/main.css}">

    <style>
        .entry-content {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #333;
            text-align: justify;
        }
        /* 首字下沉效果 */
        .entry-content::first-letter {
            font-size: 2.5em;
            font-weight: bold;
            color: #d9534f;
            float: left;
            line-height: 1;
            margin-right: 10px;
        }
    </style>
</head>
<body class="bg-light">

<!-- 导航栏 -->
<nav class="navbar navbar-expand-lg navbar-dark navbar-red sticky-top">
    <div class="container">
        <a class="navbar-brand" th:href="@{/}">
            <i class="fas fa-landmark me-2"></i><strong>江西红色文化</strong>
        </a>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav me-auto">
                <li class="nav-item"><a class="nav-link" th:href="@{/heroes}">红色英雄</a></li>
                <!-- 导航高亮 -->
                <li class="nav-item"><a class="nav-link active" th:href="@{/encyclopedia/search}">党史大百科</a></li>
                <li class="nav-item"><a class="nav-link" th:href="@{/scenicspots}">红色圣地</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container py-4">
    <!-- 面包屑导航：告诉用户现在在哪里 -->
    <nav aria-label="breadcrumb" class="bg-white p-3 rounded shadow-sm mb-4">
        <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item"><a th:href="@{/}" class="text-decoration-none text-danger">首页</a></li>
            <!-- 【关键】返回到检索页 -->
            <li class="breadcrumb-item"><a th:href="@{/encyclopedia/search}" class="text-decoration-none text-danger">党史检索</a></li>
            <li class="breadcrumb-item active" aria-current="page">词条正文</li>
        </ol>
    </nav>

    <div class="row g-4">
        <!-- 左侧：主要内容区 -->
        <div class="col-lg-8">
            <div class="card border-0 shadow-sm">
                <div class="card-body p-5">
                    <!-- 词条标题 -->
                    <h1 class="display-6 fw-bold mb-3 text-dark">
                        <i class="fas fa-quote-left text-danger me-3 opacity-25"></i>
                        <span th:text="${item.title}">词条标题</span>
                    </h1>

                    <div class="text-muted border-bottom pb-3 mb-4">
                        <span class="badge bg-danger me-2">党史百科</span>
                        <small><i class="fas fa-check-circle text-success me-1"></i> 内容已审核</small>
                    </div>

                    <!-- 词条大图 -->
                    <div th:if="${item.imageUrl != null && !item.imageUrl.isEmpty()}" class="mb-4 text-center">
                        <img th:src="${item.imageUrl}" class="img-fluid rounded shadow-sm" alt="词条配图" style="max-height: 400px;">
                        <p class="text-muted small mt-2 fst-italic">历史资料图片</p>
                    </div>

                    <!-- 词条正文 -->
                    <!-- style="white-space: pre-wrap" 可以保留数据库里的换行符，自动分段 -->
                    <div class="entry-content" style="white-space: pre-wrap;" th:text="${item.content}">
                        这里是详细内容...
                    </div>
                </div>

                <div class="card-footer bg-white p-4 border-0">
                    <div class="d-flex justify-content-between align-items-center">
                        <button class="btn btn-outline-secondary btn-sm" onclick="history.back()">
                            <i class="fas fa-arrow-left me-1"></i> 返回上一页
                        </button>
                        <span class="text-muted small">江西红色文化信息库 &copy; 2025</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 右侧：侧边工具栏 -->
        <div class="col-lg-4">
            <!-- 快捷搜索 -->
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-header bg-danger text-white fw-bold">
                    <i class="fas fa-search me-2"></i>查找其他词条
                </div>
                <div class="card-body">
                    <form th:action="@{/encyclopedia/search}" method="get">
                        <div class="input-group">
                            <input type="text" class="form-control" name="kw" placeholder="输入关键词...">
                            <button class="btn btn-dark" type="submit">搜索</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- 关联推荐 -->
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-white fw-bold">
                    <i class="fas fa-link me-2 text-danger"></i>相关资源
                </div>
                <div class="list-group list-group-flush">
                    <a th:href="@{/scenicspots}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <i class="fas fa-map-marked-alt text-danger me-2"></i> 红色圣地导览
                        </div>
                        <i class="fas fa-chevron-right small text-muted"></i>
                    </a>
                    <a th:href="@{/heroes}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <i class="fas fa-user-shield text-danger me-2"></i> 革命英雄事迹
                        </div>
                        <i class="fas fa-chevron-right small text-muted"></i>
                    </a>
                    <a th:href="@{/explore}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        <div>
                            <i class="fas fa-hiking text-danger me-2"></i> 预约线下寻访
                        </div>
                        <i class="fas fa-chevron-right small text-muted"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>