<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>管理后台</title>
    <link rel="stylesheet" href="/static/css/admin/admin.css">
</head>
<body>
<div class="sidebar">
    <div class="sidebar-header">管理后台</div>
    <ul class="sidebar-nav">
        <li class="active" data-target="heroes">英雄管理</li>
        <li data-target="stories">故事管理</li>
        <li data-target="scenicspots">圣地管理</li>
        <li data-target="explore">活动管理</li>
        <li data-target="encyclopedias">百科管理</li>
    </ul>
</div>

<div class="content">
    <!-- 英雄管理模块 -->
    <section id="heroes" class="module-section active">
        <h2>英雄管理</h2>
        <button onclick="showHeroForm()">新增英雄</button>
        <table>
            <thead>
            <tr>
                <th>ID</th>
                <th>姓名</th>
                <th>简介</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <!-- 动态填充 -->
            </tbody>
        </table>
        <!-- 新增/编辑英雄表单 -->
        <div id="heroFormContainer" class="form-container" style="display: none;">
            <h2 id="heroFormTitle">新增英雄</h2>
            <form id="heroForm">
                <!-- 添加这行：隐藏的ID字段 -->
                <input type="hidden" id="heroId">

                <label for="hero-name">名称：</label>
                <input type="text" id="hero-name" placeholder="请输入英雄名称" required>

<!--                <label for="hero-location">地点：</label>-->
<!--                <input type="text" id="hero-location" placeholder="请输入英雄地点" required>-->

                <label for="hero-description">简介：</label>
                <textarea id="hero-description" placeholder="请输入英雄简介"></textarea>

                <label for="hero-image">上传图片：</label>
                <input type="file" id="hero-image" accept="image/*">

                <button type="button" onclick="saveHero()">保存</button>
                <button type="button" onclick="hideHeroForm()">取消</button>
            </form>
        </div>
    </section>

    <!-- 故事管理模块 -->
    <section id="stories" class="module-section">
        <h2>故事管理</h2>
        <button onclick="showStoryForm()">新增故事</button>
        <table>
            <thead>
            <tr>
                <th>ID</th>
                <th>标题</th>
                <th>来源</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <!-- 动态填充 -->
            </tbody>
        </table>
        <div id="storyFormContainer" class="form-container" style="display: none;">
            <h2 id="storyFormTitle">新增故事</h2>
            <form id="storyForm">
                <!-- 添加这行：隐藏的ID字段 -->
                <input type="hidden" id="storyId">

                <label for="story-name">标题：</label>
                <input type="text" id="story-name" placeholder="请输入故事名称" required>

                <label for="story-location">内容：</label>
                <input type="text" id="story-location" placeholder="请输入故事地点" required>

                <label for="story-description">来源：</label>
                <textarea id="story-description" placeholder="请输入故事简介"></textarea>

                <label for="story-date">日期：</label>
                <input type="date" id="story-date" required>

                <button type="button" onclick="saveStory()">保存</button>
                <button type="button" onclick="hideStoryForm()">取消</button>
            </form>
        </div>
    </section>

    <!-- 圣地管理模块 -->
    <section id="scenicspots" class="module-section">
        <h2>圣地管理</h2>
        <button onclick="showScenicForm()">新增圣地</button> <!-- 点击按钮显示表单 -->

        <table id="scenicTable">
            <thead>
            <tr>
                <th>ID</th>
                <th>名称</th>
                <th>地点</th>
                <th>简介</th>
                <th>图片</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <!-- 动态填充 -->
            </tbody>
        </table>

        <!-- 新增/编辑圣地表单 -->
        <div id="scenicFormContainer" class="form-container" style="display: none;">
            <h2 id="scenicFormTitle">新增圣地</h2>
            <form id="scenicForm">
                <!-- 添加这行：隐藏的ID字段 -->
                <input type="hidden" id="scenicId">

                <label for="scenic-name">名称：</label>
                <input type="text" id="scenic-name" placeholder="请输入圣地名称" required>

                <label for="scenic-location">地点：</label>
                <input type="text" id="scenic-location" placeholder="请输入圣地地点" required>

                <label for="scenic-description">简介：</label>
                <textarea id="scenic-description" placeholder="请输入圣地简介"></textarea>

                <label for="scenic-image">上传图片：</label>
                <input type="file" id="scenic-image" accept="image/*">

                <button type="button" onclick="saveScenic()">保存</button>
                <button type="button" onclick="hideScenicForm()">取消</button>
            </form>
        </div>
    </section>

    <!-- 活动管理模块 -->
    <section id="explore" class="module-section">
        <h2>活动管理</h2>
        <button onclick="showExploreForm()">新增活动</button>
        <table>
            <thead>
            <tr>
                <th>ID</th>
                <th>活动名称</th>
                <th>日期</th>
                <th>地点</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <!-- 动态填充 -->
            </tbody>
        </table>
        <!-- 新增/编辑活动表单 -->
        <div id="exploreFormContainer" class="form-container" style="display: none;">
            <h2 id="exploreFormTitle">新增活动</h2>
            <form id="exploreForm">
                <!-- 添加这行：隐藏的ID字段 -->
                <input type="hidden" id="exploreId">

                <label for="explore-name">活动名称：</label>
                <input type="text" id="explore-name" placeholder="请输入活动名称" required>

                <label for="explore-location">地点：</label>
                <input type="text" id="explore-location" placeholder="请输入活动地点" required>

                <label for="explore-date">日期：</label>
                <textarea id="explore-date" placeholder="请输入活动日期"></textarea>

                <button type="button" onclick="saveExplore()">保存</button>
                <button type="button" onclick="hideExploreForm()">取消</button>
            </form>
        </div>
    </section>

    <!-- 百科管理模块 -->
    <section id="encyclopedias" class="module-section">
        <h2>百科管理</h2>
        <button onclick="showEncyclopediaForm()">新增百科</button>
        <table>
            <thead>
            <tr>
                <th>ID</th>
                <th>词条标题</th>
                <th>内容</th>
                <th>图片</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <!-- 动态填充 -->
            </tbody>
        </table>
        <!-- 新增/编辑百科表单 -->
        <div id="encyclopediaFormContainer" class="form-container" style="display: none;">
            <h2 id="encyclopediaFormTitle">新增百科</h2>
            <form id="encyclopediasForm">
                <!-- 添加这行：隐藏的ID字段 -->
                <input type="hidden" id="encyclopediaId">

                <label for="encyclopedia-name">词条标题：</label>
                <input type="text" id="encyclopedia-name" placeholder="请输入词条标题" required>

                <label for="encyclopedia-location">内容：</label>
                <input type="text" id="encyclopedia-location" placeholder="请输入百科介绍" required>

                <label for="encyclopedia-image">上传图片：</label>
                <input type="file" id="encyclopedia-image" accept="image/*">

                <button type="button" onclick="saveEncyclopedia()">保存</button>
                <button type="button" onclick="hideEncyclopediaForm()">取消</button>
            </form>
        </div>
    </section>
</div>

<script src="/static/js/admin/admin.js"></script>
<script src="/static/js/admin/hero.js"></script>
<script src="/static/js/admin/scenic-spot.js"></script>
<script src="/static/js/admin/encyclopedia.js"></script>
<script src="/static/js/admin/explore.js"></script>
<script src="/static/js/admin/story.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        loadScenicSpots();
    });
</script>
</body>
</html>